cmake_minimum_required(VERSION 3.11 FATAL_ERROR)

include(FetchContent)

# ------------------------------------------------------------------------------
# Trompeloeil
FetchContent_Declare(
    extern_trompeloeil

    GIT_REPOSITORY https://github.com/rollbear/trompeloeil.git
    GIT_TAG        v35)

FetchContent_GetProperties(extern_trompeloeil)
if(NOT extern_trompeloeil_POPULATED)
    FetchContent_Populate(extern_trompeloeil)
    add_subdirectory(
    ${extern_trompeloeil_SOURCE_DIR}
    ${extern_trompeloeil_BINARY_DIR}
    EXCLUDE_FROM_ALL)
endif()

# ------------------------------------------------------------------------------
# Catch2
FetchContent_Declare(
    extern_catch2

    GIT_REPOSITORY https://github.com/catchorg/Catch2.git
    GIT_TAG        v2.10.2)

FetchContent_GetProperties(extern_catch2)
if(NOT extern_catch2_POPULATED)
    FetchContent_Populate(extern_catch2)
    add_subdirectory(
    ${extern_catch2_SOURCE_DIR}
    ${extern_catch2_BINARY_DIR}
    EXCLUDE_FROM_ALL)
endif()

# ------------------------------------------------------------------------------
# CPR
FetchContent_Declare(
    extern_cpr

    GIT_REPOSITORY https://github.com/whoshuu/cpr.git
    GIT_TAG        1.3.0)

FetchContent_GetProperties(extern_cpr)
if(NOT extern_cpr_POPULATED)
    FetchContent_Populate(extern_cpr)
    add_subdirectory(
    ${extern_cpr_SOURCE_DIR}
    ${extern_cpr_BINARY_DIR}
    EXCLUDE_FROM_ALL)
endif()

# ------------------------------------------------------------------------------
# RxCpp
FetchContent_Declare(
    extern_rxcpp

    GIT_REPOSITORY https://github.com/ReactiveX/RxCpp.git
    GIT_TAG        v4.1.0)

FetchContent_GetProperties(extern_rxcpp)
if(NOT extern_rxcpp_POPULATED)
    FetchContent_Populate(extern_rxcpp)
    add_subdirectory(
    ${extern_rxcpp_SOURCE_DIR}
    ${extern_rxcpp_BINARY_DIR}
    EXCLUDE_FROM_ALL)
endif()
